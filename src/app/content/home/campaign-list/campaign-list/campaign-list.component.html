<div *ngIf="isLoading" class="loader-overlay">
  <mat-spinner></mat-spinner>
</div>

<div class="row row-div campaign-list">
    <div class="col-sm-10"><h3 class="page-heading">Vouchers List</h3></div>
</div>

<div  class="flex-container row-div-header">
  <div style="flex-grow: 8">
    <mat-form-field style="width: 200px; margin-right: 12px;">
          <input name="searchTerm"  matInput #input placeholder="Membership Number" [(ngModel)]="searchTerm"  (keyup.enter)="applyFilter()">
    </mat-form-field> 
    
    <span class="new-org" style="margin-right: 12px;">
    <button  class="btn-new-Org-small" tabindex="0"  (click)="applyFilter()">search</button>
    </span>

    <!-- <span class="new-org" style="margin-right: 12px;">
    <button  class="btn-new-Org-small" tabindex="0"  (click)="clearFilter()">Clear</button>
    </span> -->
  </div>
  <!-- <div style="flex-grow: 2;text-align: end;">
       <span class="new-org"   routerLink="../campaign-add">
        <button routerlinkactive="active" class="btn-new-Org-small" tabindex="0">
            <span _ngcontent-xoe-c181=""><a  style="text-decoration: none">Add Campaign</a></span>
        </button>
      </span>
  </div> -->
  <div style="flex-grow: 2;">
    <h2>Guest Details</h2>
    <p>First Name: &nbsp;&nbsp;&nbsp;{{ guest?.firstName }}</p>
    <p>Email: &nbsp;&nbsp;&nbsp;{{ guest?.email }}</p>
    <p>Mobile: &nbsp;&nbsp;&nbsp;{{ guest?.mobile }}</p>
    <p>Membership No: &nbsp;&nbsp;&nbsp;{{ guest?.membershipNo }}</p>
  </div>
</div>


<div class="row row-div-header">
    <div class="hrscroll-table">
        <div class="mat-elevation-z8 tbl-color addopacity">

          <table  mat-table [dataSource]="campaignList" matSort class="mat-table cdk-table mat-sort matTable">

            <!-- Name Column -->
            <ng-container matColumnDef="voucherName">
              <th  mat-header-cell *matHeaderCellDef mat-sort-header class="mat-sort-header mat-header-cell cdk-header-cell header-section-matTable ng-tns-c112-659 cdk-column-client_code mat-column-client_code ng-star-inserted"  > Voucher Name </th>
              <td mat-cell *matCellDef="let element"> {{element.voucherName}} </td>
            </ng-container>
        
            
        
            <!-- Weight Column -->
            <ng-container matColumnDef="details">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-sort-header mat-header-cell cdk-header-cell header-section-matTable ng-tns-c112-659 cdk-column-client_code mat-column-client_code ng-star-inserted"> Details </th>
              <td mat-cell *matCellDef="let element">{{ (element.details) }} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="isReedemed">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="mat-sort-header mat-header-cell cdk-header-cell header-section-matTable ng-tns-c112-659 cdk-column-client_code mat-column-client_code ng-star-inserted"> Status </th>
              <td mat-cell *matCellDef="let element">{{ (element.isReedemed)? 'Redeemed' : 'Available' }} </td>
            </ng-container>

             
        
            <!-- Symbol Column -->
            <ng-container matColumnDef="action" stickyEnd>
              <th mat-header-cell *matHeaderCellDef class="header-section-matTable"> Action </th>
              <td mat-cell *matCellDef="let element">
                        <!-- <a [routerLink]="'../edit-campaign/' + element.campaignId" title="edit">
                          <span class="material-icons">edit</span>
                        </a> -->
                        <!-- <a [routerLink]="'../campaign-result/' + element.campaignId" title="view result">
                          <span class="material-icons">assessment</span>
                        </a> -->
                        <a (click)="onViewMembers(element)" title="redeem">
                          <span class="material-icons" *ngIf="!element.isReedemed">redeem</span>
                        </a>
                        <!-- <a [routerLink]="'../campaign-analysis/' + element.campaignId" title="view result">
                          <span class="material-icons">show_chart</span>
                        </a> -->
                        </td>
            </ng-container>
        
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        
          <mat-paginator [length]="200" [pageSizeOptions]="[10, 50, 100,250,500]" aria-label="Select page">
          </mat-paginator>
</div>
</div>
</div>